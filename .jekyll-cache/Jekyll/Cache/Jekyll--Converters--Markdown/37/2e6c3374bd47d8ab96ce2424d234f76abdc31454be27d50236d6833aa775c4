I"µ2<p>haml æ˜¯ä¸€ç§ç®€æ´ä¼˜ç¾çš„æ¨¡æ¿è¯­è¨€ï¼Œä¸»è¦æ™ºèƒ½ç”¨æ¥æ›¿ä»£åŸºäº<code class="language-plaintext highlighter-rouge">ruby</code>æ¡†æ¶çš„æ¨¡ç‰ˆç³»ç»Ÿï¼Œä¾‹å¦‚ï¼šæ›¿æ¢<code class="language-plaintext highlighter-rouge">Ruby on Rails</code>çš„<code class="language-plaintext highlighter-rouge">erb</code>æ¨¡ç‰ˆï¼Œå¯ä»¥å¤§å¤§ç¼©å‡æ¨¡æ¿ä»£ç ï¼Œå‡å°‘å†—ä½™ï¼Œæé«˜å¯è¯»æ€§ã€‚å¹¶ä¸”Hamlæ˜¯ä¸€ç§å®Œå¤‡çš„æ¨¡æ¿è¯­è¨€ï¼Œæ²¡æœ‰ç‰ºç‰²å½“å‰æ¨¡æ¿è¯­è¨€çš„ä»»ä½•ç‰¹æ€§ã€‚Hamlç”±<code class="language-plaintext highlighter-rouge">Hampton Catlin</code>å‘æ˜å¹¶ä¸”å¼€å‘äº†<code class="language-plaintext highlighter-rouge">Ruby on Rails</code>ä¸Šçš„å®ç°ã€‚</p>

<h3 id="ä¸€æ¦‚è¿°">ä¸€ã€æ¦‚è¿°</h3>

<p>1.å¸¸è§è¯­æ³•è§„åˆ™</p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Â </th>
      <th style="text-align: left">Â </th>
      <th style="text-align: left">Â </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right">åºå·</td>
      <td style="text-align: left">haml</td>
      <td style="text-align: left">html</td>
    </tr>
  </tbody>
  <tbody>
    <tr>
      <td style="text-align: right">1.</td>
      <td style="text-align: left">!!!5</td>
      <td style="text-align: left">&lt;!DOCTYPE html&gt;</td>
    </tr>
    <tr>
      <td style="text-align: right">2.</td>
      <td style="text-align: left">%tag</td>
      <td style="text-align: left">ä»£è¡¨HTMLæ ‡ç­¾</td>
    </tr>
    <tr>
      <td style="text-align: right">3.</td>
      <td style="text-align: left">%tag#id</td>
      <td style="text-align: left">ä»£è¡¨idå±æ€§</td>
    </tr>
    <tr>
      <td style="text-align: right">4.</td>
      <td style="text-align: left">%tag.class</td>
      <td style="text-align: left">ä»£è¡¨classå±æ€§</td>
    </tr>
    <tr>
      <td style="text-align: right">5.</td>
      <td style="text-align: left">%tag(attr=â€xxxâ€)</td>
      <td style="text-align: left">ä»£è¡¨æŸä¸€ä¸ªç‰¹å®šå±æ€§</td>
    </tr>
    <tr>
      <td style="text-align: right">6.</td>
      <td style="text-align: left">%tag xxx</td>
      <td style="text-align: left">ä»£è¡¨æ’å…¥æ ‡ç­¾çš„å†…å®¹</td>
    </tr>
    <tr>
      <td style="text-align: right">7.</td>
      <td style="text-align: left">%E %N</td>
      <td style="text-align: left">ä»£è¡¨Næ˜¯Eçš„å­å…ƒç´ ã€‚Nå¦‚æœå†™åœ¨ç¬¬äºŒè¡Œï¼Œéœ€è¦ç¼©è¿›<strong>â€˜äºŒæ ¼â€™</strong></td>
    </tr>
    <tr>
      <td style="text-align: right">8.</td>
      <td style="text-align: left">|</td>
      <td style="text-align: left">hamlæ ‡ç­¾ï¼Œå¤šè¡Œè¿æ¥ç¬¦</td>
    </tr>
    <tr>
      <td style="text-align: right">9.</td>
      <td style="text-align: left">-#</td>
      <td style="text-align: left">hamlæ³¨é‡Š</td>
    </tr>
    <tr>
      <td style="text-align: right">10.</td>
      <td style="text-align: left">/</td>
      <td style="text-align: left">hamlæ ‡ç­¾ï¼Œå‰é¢åŠ å•è¡Œæˆ–å¤šè¡Œæ³¨é‡Šï¼Œåé¢åŠ å…³é—­æ ‡ç­¾</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">tag</code>,<code class="language-plaintext highlighter-rouge">E</code>å¯ä»¥æ›¿æ¢ä¸ºhtmlæ ‡ç­¾ <code class="language-plaintext highlighter-rouge">&lt;p&gt;,&lt;a&gt;,&lt;ul&gt;,&lt;li&gt;,&lt;stong&gt;,&lt;title&gt;...</code></p>
</blockquote>

<p>ã€€
2.haml èŒƒä¾‹</p>

<div class="language-haml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">!!! 5
</span>ã€€ã€€%html{lang: 'en'}
ã€€ã€€ã€€ã€€%head
ã€€ã€€ã€€ã€€ã€€ã€€%title Haml Demo
ã€€ã€€ã€€ã€€%body
ã€€ã€€ã€€ã€€ã€€ã€€%h1 Hello World
ã€€ã€€ã€€ã€€ã€€ã€€%a(href="http://wikipedia.org" title="Wikipedia") ç»´åŸºç™¾ç§‘
</code></pre></div></div>
<p>to HTMLï¼š</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ã€€ã€€<span class="cp">&lt;!DOCTYPE html&gt;</span>
ã€€ã€€<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">'en'</span><span class="nt">&gt;</span>
ã€€ã€€ã€€ã€€<span class="nt">&lt;head&gt;</span>
ã€€ã€€ã€€ã€€ã€€ã€€<span class="nt">&lt;title&gt;</span>Haml Demo<span class="nt">&lt;/title&gt;</span>
ã€€ã€€ã€€ã€€<span class="nt">&lt;/head&gt;</span>
ã€€ã€€ã€€ã€€<span class="nt">&lt;body&gt;</span>
ã€€ã€€ã€€ã€€ã€€ã€€<span class="nt">&lt;h1&gt;</span>Hello World<span class="nt">&lt;/h1&gt;</span>
ã€€ã€€ã€€ã€€ã€€ã€€<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">'http://wikipedia.org'</span> <span class="na">title=</span><span class="s">'Wikipedia'</span><span class="nt">&gt;</span>ç»´åŸºç™¾ç§‘<span class="nt">&lt;/a&gt;</span>
ã€€ã€€ã€€ã€€<span class="nt">&lt;/body&gt;</span>
ã€€ã€€<span class="nt">&lt;/html&gt;</span>
ã€€ã€€
</code></pre></div></div>
<h3 id="äºŒè¯­æ³•-on-rails">äºŒã€è¯­æ³• (on rails)</h3>
<p>1.<strong>%</strong> ç™¾åˆ†å·ç¬¦å·æ˜¯ä¸€è¡Œçš„å¼€å§‹ï¼Œç´§æ¥ç€ä¸€ä¸ªå…ƒç´ çš„åå­—ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªè¿™æ ·çš„å½¢å¼ï¼š<strong><element></element></strong>,  é»˜è®¤çš„å…ƒç´ æ˜¯<strong>div</strong>;</p>

<p><code class="language-plaintext highlighter-rouge">%strong test </code>   to HTMLï¼š<code class="language-plaintext highlighter-rouge">&lt;strong&gt;test&lt;/strong&gt;</code></p>

<p><code class="language-plaintext highlighter-rouge">strong= item.title</code>    to ERBï¼š<code class="language-plaintext highlighter-rouge">&lt;strong&gt;&lt;%= item.title %&gt;&lt;/strong&gt;</code>
<br /></p>

<p>2.<strong>#</strong> ä»£æ›¿ <strong>id</strong></p>

<p><code class="language-plaintext highlighter-rouge">#id= item.title</code>         to ERB:    <code class="language-plaintext highlighter-rouge">&lt;div id="id"&gt;&lt;%= item.title %&gt;&lt;/div&gt;</code><br />
<br /></p>

<p>3.<strong>â€.â€</strong> ä»£æ›¿ <strong>class</strong></p>

<p><code class="language-plaintext highlighter-rouge">%strong.code#message Hello, World!</code>  to ERB:</p>

<p><code class="language-plaintext highlighter-rouge">&lt;strong&gt;&lt;class=code id="message"&gt;Hello, World!&lt;strong&gt;</code></p>

<blockquote>
  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 3,4,5æ ‡é¢˜ä¸­"" æ˜¯ä¸ºäº†æ–¹ä¾¿è¯»è€…çœ‹æ¸…ï¼Œè¯­å¥å®é™…ä½¿ç”¨ä¸­å¹¶ä¸éœ€è¦;
</code></pre></div>  </div>
</blockquote>

<p><br />
4.<strong>â€=â€</strong> ä»£æ›¿ <strong>&lt;%= %&gt;</strong> ç›¸å½“äºæ’å…¥rubyä»£ç ,å¹¶è¾“å‡ºç»“æœ;</p>

<p><code class="language-plaintext highlighter-rouge">.my-class= item.title</code>     to ERB: <code class="language-plaintext highlighter-rouge">&lt;div class="my-class"&gt;&lt;%= item.title %&gt;&lt;/div&gt;</code>
<br /></p>

<p><code class="language-plaintext highlighter-rouge">%p= Time.now</code> to HTML:<code class="language-plaintext highlighter-rouge">&lt;p&gt;Sat Aug 06 15:06:09 +0100 2011&lt;/p&gt;</code>
<br /></p>

<p>5.<strong>â€-â€œ</strong> ä»£æ›¿ <strong>&lt;%  %&gt;</strong>ç›¸å½“äºæ‰§è¡Œrubyä»£ç ,ä½†ä¸è¾“å‡ºç»“æœ;</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  - if @opportunities.any?
    = render @opportunities
  - else
    = render "shared/empty"
</code></pre></div></div>
<p>to ERB:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;%if @opportunities.any? %&gt;
  &lt;%= render @opportunities %&gt;
&lt;%else%&gt;
  &lt;%= render "shared/empty" %&gt;
&lt;%end%&gt;
</code></pre></div></div>
<p><br />
6.<strong>#{}</strong> è¡¨ç¤ºæ’å…¥rubyä»£ç ,å¹¶è®¡ç®—ç»“æœ;</p>

<p><code class="language-plaintext highlighter-rouge">%script(type="text/javascript" src="javascripts/script_#{2 + 7}")</code> to HTML:</p>

<p><code class="language-plaintext highlighter-rouge">&lt;script type="text/javascript" src="javascripts/script_9"&gt;&lt;/script&gt;</code></p>

<blockquote>
  <p>å¸¸è§çš„aæ ‡ç­¾å’Œspanæ ‡ç­¾:</p>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%a(title=@title){:href =&gt; @link.href} Stuff

%span(class="widget_#{@widget.number}")
</code></pre></div></div>
<p><br />
7.<strong>{}</strong> æ·»åŠ çš„ruby hash å±æ€§æˆ– html å¤æ‚ä»£ç ,hashå±æ€§å’Œå€¼ä¹‹é—´ç”¨ <strong>{:å±æ€§1=&gt; å€¼1,:å±æ€§2=&gt; å€¼2 }</strong>è¡¨ç¤º;</p>

<p><code class="language-plaintext highlighter-rouge">%strong{:class=&gt;"code",:id=&gt;"message"} Hello, World!</code> to ERB:</p>

<p><code class="language-plaintext highlighter-rouge">&lt;strong&gt;&lt;class="code" id="message"&gt;Hello, World!&lt;strong&gt;</code></p>

<p><br />
8.<strong>img</strong>æ ‡ç­¾hash</p>

<p><code class="language-plaintext highlighter-rouge">%img{ :src =&gt; "/path/to/image", :alt =&gt; "Description of image" }</code> or</p>

<p><code class="language-plaintext highlighter-rouge">%img ( src="/path/to/image", alt="Description of image")</code></p>

<p>to HTMLï¼š</p>

<p><code class="language-plaintext highlighter-rouge">&lt;img src="/path/to/image" alt="Description of image"&gt;</code></p>

<p><br />
9.HTML5 DOCTYPE</p>

<p><code class="language-plaintext highlighter-rouge">!!!5</code>  to HTML: <code class="language-plaintext highlighter-rouge">&lt;!DOCTYPE html&gt;</code></p>

<p><code class="language-plaintext highlighter-rouge">%meta{ :charset =&gt; "utf-8" }</code> to HTML:<code class="language-plaintext highlighter-rouge">&lt;meta charset="utf-8"&gt; </code></p>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">%link{ :rel =&gt; "stylesheet", :href =&gt; "/css/master.css" }</code> to HTML:</p>

<p><code class="language-plaintext highlighter-rouge">&lt;link rel="stylesheet" href="/css/master.css"&gt;</code></p>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">%script{ :src =&gt; "/js/site.js" }</code> to HTML:</p>

<p><code class="language-plaintext highlighter-rouge">&lt;script src="/js/site.js"&gt;&lt;/script&gt;</code>
<br />
10.æ³¨é‡Šè¯­å¥</p>

<ul>
  <li><strong>/</strong> è¡¨ç¤ºæ³¨é‡Š,åˆ†ä¸ºè¡Œæ³¨é‡Šå’Œå—æ³¨é‡Š;</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/ A forward slash at the start of a line wraps that line in a comment  
%blockquote  
  %p Roads? Where we're going we don't need roads
  
/  
  A forward slash at the start of a nested block wraps the whole block in a comment  
  %blockquote  
    %p Roads? Where we're going we don't need roads
</code></pre></div></div>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- Only this line will be wrapped in a comment --&gt;</span> 
<span class="nt">&lt;blockquote&gt;</span> 
  <span class="nt">&lt;p&gt;</span>Roads? Where we're going we don't need roads<span class="nt">&lt;/p&gt;</span> 
<span class="nt">&lt;/blockquote&gt;</span> 

<span class="c">&lt;!-- 
  Now the whole block will be commented out 
  &lt;blockquote&gt; 
    &lt;p&gt;Roads? Where we're going we don't need roads&lt;/p&gt; 
  &lt;/blockquote&gt; 
--&gt;</span>
</code></pre></div></div>
<p><br /></p>
<ul>
  <li><strong>/[ ]</strong>è¡¨ç¤ºæ¡ä»¶æ³¨é‡Š;</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">/[if IE] %link { :rel =&gt; "stylesheet", :href =&gt; "/css/ie.css" }</code> to HTML:</p>

<p><code class="language-plaintext highlighter-rouge">&lt;!--[if IE]&gt; &lt;link href="/css/ie.css" rel="stylesheet"&gt; &lt;![endif]--&gt;</code>
<br /></p>
<ul>
  <li><strong>-#</strong>è¡¨ç¤ºhamlè‡ªå¸¦æ³¨é‡Š;</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%p The line below won't appear in the HTML 
-# The rest of this line is a comment 
%p The line above won't appear in the HTML, nor will the lines underneath 
-# 
  None of this nested text will appear 
  in our rendered output either
</code></pre></div></div>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;p&gt;</span>The line below won't appear in the HTML<span class="nt">&lt;/p&gt;</span> 
<span class="nt">&lt;p&gt;</span>The line above won't appear in the HTML, nor will the lines underneath<span class="nt">&lt;/p&gt;</span>
</code></pre></div></div>

<h3 id="ä¸‰å®‰è£…-installing-haml">ä¸‰ã€å®‰è£… Installing Haml</h3>

<p><code class="language-plaintext highlighter-rouge">gem install haml</code> or</p>

<p>Gemfileä¸­æ·»åŠ :</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  gem 'haml'
  gem "haml-rails"
</code></pre></div></div>

<p>å®‰è£…åå¯ä»¥è¿è¡Œhalmä½¿ç”¨å‘½ä»¤è¡Œï¼š</p>

<p><code class="language-plaintext highlighter-rouge">haml input.html.haml output.html</code></p>

<hr style="margin: 60px" />

<h3 id="å‚è€ƒ">å‚è€ƒ</h3>

<blockquote>
  <p>1ã€<a href="http://www.ruanyifeng.com/blog/2013/06/emmet_and_haml.html">HTMLä»£ç ç®€å†™æ³•ï¼šEmmetå’ŒHaml</a>ï¼›</p>
</blockquote>

<blockquote>
  <p>2ã€<a href="https://www.sitepoint.com/an-introduction-to-haml/">An Introduction to Haml</a></p>
</blockquote>

:ET