I"ã<p><code class="language-plaintext highlighter-rouge">erb</code>çš„ç‰¹ç‚¹æ˜¯é™¤äº†èƒ½ç”¨ç®€æ´ç›´è§‚çš„è¯­æ³•ç”ŸæˆHTMLæ–‡ä»¶ï¼Œä¹Ÿèƒ½å¤ŸåµŒå…¥ Ruby ä»£ç ã€‚</p>

<p><strong>æ ‡ç­¾</strong></p>

<p>Â§Â 1Â æ‰§è¡Œ Ruby code ä¸”åœ¨ HTML ä¸­æ’å…¥è¾“å‡ºçµæœæ—¶ä½¿ç”¨<code class="language-plaintext highlighter-rouge">&lt;%= Ruby code... %&gt;</code>;æ•´ä¸ª<code class="language-plaintext highlighter-rouge">&lt;%=  %&gt;</code>è¢«å–ä»£ä¸ºcodeæ‰§è¡Œçš„ç»“æœ;</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nt">&lt;b&gt;&lt;</span><span class="err">%=</span> <span class="err">"</span><span class="na">sarah</span><span class="err">"</span> <span class="err">%</span><span class="nt">&gt;&lt;/b&gt;</span>
 <span class="nt">&lt;h1&gt;&lt;</span><span class="err">%=</span> <span class="err">@</span><span class="na">user.name</span> <span class="err">%</span><span class="nt">&gt;&lt;/h1&gt;</span>
 <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"&lt;%= @link %&gt;"</span><span class="nt">&gt;</span>click me<span class="nt">&lt;/a&gt;</span>
 <span class="nt">&lt;</span><span class="err">%=</span> <span class="na">rand</span><span class="err">(3)</span> <span class="err">%</span><span class="nt">&gt;</span>
</code></pre></div></div>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">&lt;%= rand(n) %&gt;</code>éšæœºç”Ÿæˆ 0 åˆ° n-1 ä¹‹é—´çš„éšæœºæ•°</p>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;%= rand(3) %&gt;
è¾“å‡ºç»“æœå¯èƒ½ä¼šæ˜¯ 0 ã€ 1 æˆ– 2 ã€‚
</code></pre></div></div>
<p>Â§Â 2Â åªæ‰§è¡Œ Ruby code ä½†ä¸è¾“å‡ºç»“æœæ—¶ä½¿ç”¨ï¼š<code class="language-plaintext highlighter-rouge">&lt;% Ruby code... %&gt;</code></p>

<ul>
  <li>å¾ªç¯
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;% @users.each do |user| %&gt;
....
&lt;% end %&gt;
</code></pre></div>    </div>
  </li>
  <li>æ¡ä»¶åˆ¤æ–­
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;% if @user.weight &gt; 50 %&gt;
...
&lt;% else %&gt;
...
&lt;% end %&gt;
</code></pre></div>    </div>
  </li>
  <li>ä»»ä½•ä¸éœ€è¦è¾“å‡ºçš„æƒ…æ³</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;% user = @users.first %&gt;
&lt;%= user.name %&gt;
</code></pre></div></div>
<p>Â§Â 3Â ä½¿ç”¨æ³¨é‡Šæ—¶å¯ä»¥ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">#</code> ç¬¦å·<code class="language-plaintext highlighter-rouge">&lt;%# Comment... %&gt;</code></p>

<p>Â§Â 4Â ç¦æ­¢è‡ªåŠ¨è½¬ä¹‰ä½¿ç”¨<code class="language-plaintext highlighter-rouge">&lt;%% ... %&gt;</code>;</p>
<blockquote>
  <p>ç®€å•è¯´å°±æ˜¯ç…§<strong>åŸæ ·</strong>è¾“å‡ºå†…å®¹ã€‚åŸå› æ˜¯HTMLä¸­è¾“å…¥<code class="language-plaintext highlighter-rouge">&lt;</code>ï¼Œ<code class="language-plaintext highlighter-rouge">&gt;</code>â€¦å’Œä¿ç•™å­—ä¼šè®©HTMLè¯¯è®¤ä¸ºæ˜¯æ ‡ç­¾ï¼ˆ<code class="language-plaintext highlighter-rouge">&lt;h&gt;,</code><code class="language-plaintext highlighter-rouge">&lt;a&gt;</code>â€¦å¼•èµ·æ··ä¹±ï¼‰ï¼Œå› æ­¤HTMLä¼šè‡ªåŠ¨æŠŠè¿™äº›ç¬¦å·è½¬ä¹‰ä¸ºå®ä½“ï¼ˆç±»ä¼¼äº<code class="language-plaintext highlighter-rouge">&amp;gt;</code>,<code class="language-plaintext highlighter-rouge">&amp;lt;</code>çš„ä¸œä¸œï¼‰ï¼Œè¿™ä¸ªè¯­æ³•å¯ä»¥å¼ºåˆ¶ä¸è¿›è¡Œè½¬ä¹‰ã€‚</p>
</blockquote>

<p>å¯¹æ¯”çœ‹ä¸‹å°±æ˜ç™½äº†ï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> &lt;%= "&lt;b&gt;haha&lt;/b&gt;" %&gt; 
 # &amp;lt;b&amp;gt;haha&amp;lt;/b&amp;gt;
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> &lt;%%= "&lt;b&gt;haha&lt;/b&gt;" %&gt; 
 # &lt;b&gt;haha&lt;/b&gt;
</code></pre></div></div>
<blockquote>
  <p>æœ‰æ—¶ä¼šçœ‹åˆ°æ ‡ç­¾<code class="language-plaintext highlighter-rouge">&lt;%-</code>or<code class="language-plaintext highlighter-rouge">-%&gt;</code> or <code class="language-plaintext highlighter-rouge">&lt;%=</code>or<code class="language-plaintext highlighter-rouge">-%&gt;</code> or
<code class="language-plaintext highlighter-rouge">&lt;%=-</code>or<code class="language-plaintext highlighter-rouge">%&gt;</code>,æ„æ€æ˜¯å¿½ç•¥å‰é¢å’Œåé¢çš„ç©ºæ ¼å’Œæ¢è¡Œç¬¦ï¼ˆ<code class="language-plaintext highlighter-rouge">-</code>å·åœ¨å‰å°±å¿½ç•¥å‰é¢çš„ï¼Œåœ¨åå°±å¿½ç•¥åé¢çš„ï¼Œåœ¨ä¸¤ç«¯å°±å¿½ç•¥å‰åçš„çš„ç©ºæ ¼å’Œæ¢è¡Œç¬¦ï¼‰, ä½¿è¾“å‡ºæ›´ç´§å‡‘ï¼›ä¸è¿‡è¦è®¾ç½®<code class="language-plaintext highlighter-rouge">trim mode</code>ã€‚<a href="https://ruby-china.org/topics/13042">å‚è€ƒï¼šruby-chinaè®¨è®ºå¸–</a></p>
</blockquote>

:ET